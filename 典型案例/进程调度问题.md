mtk设备升级，通过olt升级时，由于是下载完所有镜像之后再升级，通过omci收包后发给升级模块处理，由于omci采取了FIFO的调度策略，导致升级模块继承了此策略，然后在调写flash接口的时候也使用的FIFO,然后在写flash的时候长时间占用了某个CPU，又因为mtk看门狗的机制，在某个cpu一直处于busy的状态又没有产生切换的情况下，就判断此cpu卡死了，导致升级时重启了。因为omci处理包都是用的同一个接口，改不了他们的调度策略，升级模块好多项目都用的是同一套，也改不了，最后通过修改了看门狗超时的时间规避了此风险，不过如果镜像再变大，可能还是会出现此问题。其他变下边写的升级方案不会出现此问题。