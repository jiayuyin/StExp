1.首先确认是否有内存泄漏  

进行挂测，内存使用情况是持续减少（直到内存耗尽，触发oom或重启）

2.确认是用户态还是内核态  

在挂测前后内存使用差值较大的时候，使用脚本抓取内存使用信息  
（脚本就是获取ps查看的进程中不带[]的进程，然后查看其status(`cat /proc/PID/status`)  
，主要看VMSize（进程当前使用的虚拟内存）和VmRSS（进程当前使用的物理内存）  
，如果是存在差值较大的进程，可能是该进程内存泄漏。）

如果抓出的日志没有看到明显的内存差异，但free查看内存确实持续减少，再`cat /proc/meminfo`查看slab信息  
如果观察到slab持续增加，初步确定为内核内存泄漏。

3.确认是内核内存泄漏后，开启内核编译选项  

重新编译内核版本，先观察`cat /proc/slabinfo`  
调用次数多的一般是怀疑点，比如kmalloc-8192  
再查看`cat /sys/kernel/slab/kmalloc-8192/alloc_calls`  
`echo 1 > /sys/kernel/slab/kmalloc-8192/trace`  
可以实时查看调用栈信息。

通过分析栈信息来确认怀疑点
